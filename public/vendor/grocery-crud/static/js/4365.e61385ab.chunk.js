"use strict";(self.webpackChunkgrocery_crud_3_frontend=self.webpackChunkgrocery_crud_3_frontend||[]).push([[4365],{74365:(e,t,a)=>{a.r(t),a.d(t,{default:()=>lt});var o=a(21925),n=a(9177);const l={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"columns-modal":{composes:"modal",display:e=>{let{columnsModalOpen:t}=e;return t?"block":"none"},opacity:"0","z-index":"10",animation:e=>{let{columnsModalOpen:t}=e;return t?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}};var r=a(29112);const s=(0,o.MA)(l),i=e=>{let{columns:t,columnsModalOpen:a,onColumnsModalClose:o,selectColumnsAllOrNone:l,toggleVisibleColumn:i,visibleColumns:d}=e;const c=s({columnsModalOpen:a});return(0,r.jsx)("div",{className:c["columns-modal"],tabIndex:"-1",role:"dialog",children:(0,r.jsx)("div",{className:"modal-dialog modal-l",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:n.A.t("columns")}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:o})]}),(0,r.jsx)("div",{className:"modal-body",children:a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"checkbox",onChange:()=>l(t),checked:d.length===t.length})}),t.map((e=>(0,r.jsx)("div",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:d.includes(e.name),onChange:()=>i(e.name,t)})," ",e.displayAs]})},e.name)))]})})]})})})};var d=a(93362),c=a(46422);const m={"column-text":{"&>span":{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","& img":{display:"inline-block"}},"align-items":"center","max-width":"350px","min-width":"0","vertical-align":"middle",display:"flex",height:"38px"},"table-column":{composes:"border px-4 py-2 font-normal"},"column-action":{composes:"border px-4 py-2 font-normal flex","white-space":"nowrap","align-items":"center"},"@keyframes flash":{"0%":{opacity:"1"},"25%":{opacity:"0"},"50%":{opacity:"1"},"75%":{opacity:"0"},"100%":{opacity:"1"}},"animation-flash":{animation:"$flash 1s ease 0s normal forwards 1",position:"relative","z-index":"1"},"open-row":{cursor:"pointer",padding:"0 5px","min-width":"28px"}};var u=a(69580),h=a(85284),g=a(71444),x=a(64417),p=a(10269),b=a(18681),f=a(7160);const y=["lastPrimaryKeyValue","rowData","hasActions","visibleColumns","settings","configurationSettings","rightSideActions","skin","theme","publishEvents"],j=e=>e.configuration.locale,v=e=>e.configuration.dateFormat,w=e=>e.configuration.hasMasterDetail,N=e=>e.columnWidth,A=e=>e.masterDetail.openedRows,k=(0,o.MA)(m),C=e=>{let{lastPrimaryKeyValue:t,rowData:a,hasActions:o,visibleColumns:n,settings:l,configurationSettings:{onRowUpdate:s,onRowUnmount:i,actionButtonsMultiple:m},rightSideActions:C,skin:_,theme:M,publishEvents:S}=e,V=(0,u.A)(e,y);const I=(0,c.d4)(j),D=(0,c.d4)(v),O=(0,c.d4)(N),T=(0,c.d4)(w),F=(0,c.d4)(A),E=(0,c.wA)(),L=k(),{grocery_crud_extras:{primaryKeyValue:P}}=a;(0,h.useLayoutEffect)((()=>(s&&s({primaryKeyValue:P}),()=>{i&&i({primaryKeyValue:P})})),[P,a,s,i]);const B=()=>(0,r.jsx)("td",{className:L["column-action"],children:(0,r.jsx)(g.A,(0,d.A)((0,d.A)({},V),{},{actionButtonsMultiple:m,backendActionButtons:a.grocery_crud_extras.actionButtons,actionButtons:l.actionButtons,primaryKeyValue:P}))},"column__action"),R=T&&F.find((e=>e===P));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{className:t&&t===a.grocery_crud_extras.primaryKeyValue?L["animation-flash"]:void 0,children:[o&&!C&&n.length>0&&(0,r.jsx)(B,{}),n.map(((e,t)=>(0,r.jsx)("td",{className:L["table-column"],children:(0,r.jsxs)("div",{className:L["column-text"],style:{width:O[e.name]},children:[T&&0===t&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:L["open-row"],onClick:()=>E({type:R?b.R.CLOSE_ROW:b.R.OPEN_ROW,rowId:P}),children:(0,r.jsx)(p.A,{icon:R?"caret-down":"caret-right"})})}),(0,x.x)(a[e.name],e.dataType,{dateFormat:D,fieldName:e.name,fieldOptions:e.options,locale:I,permittedValues:e.permittedValues,primaryKeyValue:P})]})},e.name))),o&&C&&n.length>0&&(0,r.jsx)(B,{})]}),R&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:n.length+(o?1:0),children:(0,r.jsx)(f.A,{primaryKeyValue:P,skin:_,theme:M,publishEvents:S})})})]})};C.defaultProps={settings:{},configurationSettings:{}};const _=C,M=(0,o.MA)(m),S=e=>e.datagridRows,V=e=>e.configuration.rightSideActions,I=e=>{const t=(0,c.d4)(S),a=(0,c.d4)(V),o=M();return(0,r.jsx)("tbody",{className:o["table-body"],children:t.map(((t,o)=>(0,r.jsx)(_,(0,d.A)({rowData:t,rightSideActions:a},e),o)))})},D={checkbox:{"margin-right":"10px"}},O=(0,o.MA)(D),T=e=>{let{onChange:t,checked:a}=e;const o=O();return(0,r.jsx)("input",{type:"checkbox",className:o.checkbox,onChange:t,checked:a})};var F=a(74753),E=a.n(F),L=a(83100);const P={footer:{display:"flex",padding:"5px",justifyContent:"space-between",alignItems:"center"},"footer-child":{display:"flex",alignItems:"center","& > div":{paddingRight:"5px"}},pagination:{composes:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",margin:"0"},"page-number":{composes:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium",borderRadius:"0",width:"100px"}},B=(0,o.MA)(P),R=e=>{const t=B(e),{filteredTotalEntries:a,goToFirstPage:o,goToLastPage:n,goToNextPage:l,goToPreviousPage:s,lastPage:i,page:d,pageChange:c,totalEntries:m,perPage:u,perPageChange:h,forceSearch:g,pagingOptions:x}=e;return(0,r.jsxs)("div",{className:t.footer,children:[(0,r.jsxs)("div",{className:t["footer-child"],children:[(0,r.jsx)("div",{children:"Show"}),(0,r.jsx)("div",{className:"floatL per-page-container",children:(0,r.jsx)("select",{className:"form-control form-select",onChange:h,value:u,children:x.map((e=>(0,r.jsx)("option",{value:e,children:e},e)))})}),(0,r.jsx)("div",{children:"entries"})]}),(0,r.jsxs)("div",{className:t["footer-child"],children:[a?(0,r.jsx)("div",{children:(0,r.jsx)(L.A,{currentPage:d,totalEntries:m,perPage:u,filteredTotalEntries:a})}):null,(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:t.pagination,children:[(0,r.jsx)("button",{className:E()("relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":1===d,"cursor-pointer hover:bg-gray-50":d>1}),onClick:()=>o(d,i),children:(0,r.jsx)(p.A,{icon:"step-backward"})}),(0,r.jsx)("button",{className:E()("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":1===d,"cursor-pointer hover:bg-gray-50":d>1}),onClick:()=>s(d,i),children:(0,r.jsx)(p.A,{icon:"chevron-left"})}),(0,r.jsx)("input",{type:"number",className:t["page-number"],value:d,onChange:e=>c(e,d,i),disabled:0===a,onKeyUp:e=>{"Enter"===e.key&&g()}}),(0,r.jsx)("button",{className:E()("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":d===i,"cursor-pointer hover:bg-gray-50":d<i}),onClick:()=>l(d,i),children:(0,r.jsx)(p.A,{icon:"chevron-right"})}),(0,r.jsx)("button",{className:E()("relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":d===i,"cursor-pointer hover:bg-gray-50":d<i}),onClick:()=>n(d,i),children:(0,r.jsx)(p.A,{icon:"step-forward"})})]})})]})]})},K={"search-column":{"min-width":"30px"},"table-th-with-ordering":{cursor:"pointer","&:hover":{background:"var(--gc-table-hover-background)"}},"actions-column-header":{"align-items":"center",display:"flex",height:"39px"},"with-ordering":{display:"flex","justify-content":"space-between","align-items":"center"},"input-text":{composes:"px-4 py-3 rounded border border-gray-200 w-full"},"input-select":{composes:"px-4 py-3 border border-gray-200 w-full"},"input-select-search":{minWidth:"80px"}};var z=a(59196);const U={"simple-button":{composes:"bg-white hover:bg-gray-50 text-gray-700 font-bold py-2 px-4 rounded border border-gray-700 shadow-sm text-gray-700 hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 inline-block","margin-right":"5px"}},H=(0,d.A)((0,d.A)({},U),{},{"buttons-group":{display:"flex"}}),W=(0,o.MA)(H),$=e=>{let{onClick:t,icon:a,label:o,link:n=!1,href:l}=e;const s=W();return n?(0,r.jsxs)("a",{className:s["simple-button"],onClick:t,href:l,children:[a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{icon:a}),"\xa0"]}),o]}):(0,r.jsxs)("button",{className:s["simple-button"],onClick:t,children:[a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{icon:a}),"\xa0"]}),o]})},G=(0,o.MA)(K),q=e=>{const{DatagridCheckbox:t,columnOrdering:a,columnSearch:o,columnSearchValues:l,columnSearchValuesDisplayAs:s,extendedSearchData:i,forceSearch:d,hasActions:c,onMultipleDeleteModalOpen:m,onSelectRowAllOrNone:u,options:{actionButtonHasText:h},selectRowsAllOrNoneChecked:g,selectedIds:b,sorting:f,sortingFor:y,visibleColumns:j,loadCssThirdParty:v,isMobileDevice:w}=e,N=G(e),A=0===i.length;return(0,r.jsxs)("thead",{children:[(0,r.jsxs)("tr",{children:[c&&j.length>0&&(0,r.jsx)("th",{children:n.A.t("actions")}),j.map((e=>(0,r.jsx)("th",{className:N["table-th-with-ordering"],onClick:()=>a({columnName:e.name,sorting:""===f||"desc"===f?"asc":"desc"}),children:(0,r.jsxs)("div",{className:N["with-ordering"],children:[(0,r.jsx)("span",{children:e.displayAs}),y===e.name?(0,r.jsx)(p.A,{icon:"asc"===f?"sort-amount-down-alt":"sort-amount-down"}):(0,r.jsx)(p.A,{icon:"sort"})]})},e.name)))]}),(0,r.jsxs)("tr",{children:[c&&j.length>0&&(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:N["actions-column-header"],children:!w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{onChange:u,checked:g}),b.length>0&&(0,r.jsx)($,{onClick:m,icon:"trash",label:h?n.A.t("action_delete"):""})]})})}),j.map((e=>{const t=(0,z.So)(e.dataType);return(0,r.jsx)("td",{className:N["search-column"],children:A&&(0,r.jsx)(t,{className:N[(0,x.o)(e.dataType)],placeholder:n.A.t("quick_search"),permittedValues:e.permittedValues,loadCssThirdParty:v,onChange:t=>{o({columnName:e.name,searchValue:"object"===typeof t.target.value?t.target.value.key:t.target.value,searchValueDisplayAs:"object"===typeof t.target.value?t.target.value.displayAs:""}),!0===(0,z.eD)(e.dataType)&&d()},onKeyUp:e=>{"Enter"===e.key&&d()},value:l[e.name]?l[e.name]:"",displayAs:s[e.name]?s[e.name]:"",fieldName:e.name})},e.name)}))]})]})};q.defaultProps={hasActions:!1,visibleColumns:[],options:{actionButtonHasText:!0}};const J=q,X=e=>{let{title:t}=e;return(0,r.jsx)("div",{className:"gc-datagrid-title",children:t})},Q=(0,d.A)((0,d.A)({"datagrid-tools":{position:"relative",padding:"10px","border-left":"1px solid var(--gc-border-separator-color)","border-right":"1px solid var(--gc-border-separator-color)",display:"flex","justify-content":"space-between"}},U),{},{"tools-container":{display:"flex"},"warning-button":{composes:"bg-white hover:bg-yellow-100 text-yellow-700 font-bold py-2 px-4 rounded border border-yellow-700 shadow-sm text-yellow-700 hover:bg-yellow-100","margin-right":"5px"}});var Y=a(17714),Z=a(48411),ee=a(24564);const te={"dropdown-menu":{composes:"origin-top-right absolute right-0 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 text-gray-700 font-bold focus:outline-none",left:"auto",top:"auto",display:e=>{let{opened:t}=e;return t?"block":"none"},opacity:e=>{let{opened:t}=e;return t?"1":"0"},right:e=>{let{direction:t}=e;return t===ee.I.RIGHT?"0":"auto"},"margin-top":"38px","z-index":"100"},"dropdown-menu-container":{composes:"inline-flex","margin-left":e=>{let{leftSpace:t}=e;return t?"5px":"0"}},"dropdown-menu-button":{composes:"inline-flex justify-center bg-white hover:bg-gray-50 text-gray-700 font-bold py-2 px-4 rounded border border-gray-700 shadow-sm hover:bg-gray-100","align-items":"center"}},ae=e=>{let{buttons:t}=e;return(0,r.jsx)("ul",{className:"py-1 text-sm text-gray-700 dark:text-gray-20",children:t.map((e=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:e.url?e.url:"",target:e.newTab?"_blank":void 0,className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",rel:"noreferrer",onClick:e.onClick?t=>{t.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})}:void 0,children:[e.icon&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{icon:e.icon}),"\xa0\xa0"]}),e.text]})},e.key)))})},oe=(0,o.MA)(te),ne=e=>{let{buttons:t,buttonIcon:a,buttonLabel:o,direction:n,leftSpace:l}=e;const s=(0,h.useRef)(null),[i,d]=(0,h.useState)(!1);const c=oe({opened:i,direction:n,leftSpace:l});return 0===t.length?null:(0,r.jsxs)("div",{className:c["dropdown-menu-container"],ref:s,children:[(0,r.jsxs)("button",{className:c["dropdown-menu-button"],onClick:function(){d(!i)},onBlur:function(){setTimeout((()=>{d(!1)}),200)},children:[a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{icon:a}),"\xa0"]}),o,"\xa0",(0,r.jsx)(p.A,{icon:"caret-down"})]}),(0,r.jsx)("div",{className:c["dropdown-menu"],role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:"-1",children:(0,r.jsx)("div",{className:"py-1",role:"none",children:(0,r.jsx)(ae,{buttons:t})})})]})};ne.defaultProps={buttons:[],buttonIcon:"",buttonLabel:"",direction:"left",leftSpace:!1};const le=ne;var re=a(89899),se=a(11534),ie=a(65222),de=a(22553);const ce=(0,o.MA)(Q),me=e=>{const{apiUrl:t,columnSearchValues:a,extendedSearchData:o,hasAdd:l,onAdd:s,onClearCache:i,onClearFiltering:d,onFilteringModalOpen:m,onOrderingReset:u,onRefresh:h,sorting:g,sortingFor:x,urlUniqueHash:b,visibleColumnsAsShortString:f}=e,y=ce(e),j=(0,c.wA)(),v=(0,c.d4)((e=>e.configuration.urlHistory)),w=(0,c.d4)((e=>e.configuration.subject)),N=(0,c.d4)((e=>e.configuration.landingPageUrl)),A=(0,c.d4)((e=>e.configuration.hasSettings)),k=(0,c.d4)((e=>e.configuration.hasPrint)),C=(0,c.d4)((e=>e.configuration.hasFilters)),_=(0,c.d4)((e=>e.configuration.hasColumnsButton)),M=(0,c.d4)((e=>e.configuration.hasExportData)),S=(0,c.d4)((e=>e.configuration.hasExportPdf)),V=(0,c.d4)((e=>e.configuration.hasExportExcel)),I=(0,c.d4)((e=>e.configuration.hasTopLeftButtons)),D=(0,c.d4)((e=>e.configuration.hasTopRightButtons)),O=(0,c.d4)((e=>e.configuration.datagridButtonsTopLeft)),T=(0,c.d4)((e=>e.configuration.datagridButtonsTopRight)),F=I||D,E=b?"/".concat(b):"",L={apiUrl:t,columnSearchValues:a,sorting:g,sortingFor:x,visibleColumnsAsShortString:f,extendedSearchData:o};try{return F?(0,r.jsxs)("div",{className:y["datagrid-tools"],children:[(0,r.jsxs)("div",{children:[I&&(0,r.jsx)(r.Fragment,{children:l&&(0,r.jsx)($,{link:!0,href:v?"".concat(N).concat(E,"/add"):"",icon:"plus",label:(0,Y.gI)(Z.A.ADD,w),onClick:e=>{e.preventDefault(),s()}})}),(0,r.jsx)(de.A,{Button:$,buttons:O})]}),(0,r.jsx)("div",{children:D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(de.A,{Button:$,buttons:T}),C&&(0,r.jsxs)("button",{className:o.length>0?y["success-button"]:y["simple-button"],onClick:m,children:[(0,r.jsx)(p.A,{icon:"filter"}),"\xa0",(0,Y.P7)(o.length)]}),C&&(o.length>0||Object.keys(a).length>0)&&(0,r.jsxs)("button",{className:y["warning-button"],onClick:d,children:[(0,r.jsx)(p.A,{icon:"eraser"}),"\xa0",n.A.t("filtering_remove_filters")]}),_&&(0,r.jsx)($,{onClick:()=>(e=>e({type:se.L.MODAL_OPEN}))(j),label:n.A.t("columns"),icon:"list-alt"}),k&&(0,r.jsxs)("a",{className:y["simple-button"],href:(0,re.D1)(L),rel:"noreferrer",target:"_blank",children:[(0,r.jsx)(p.A,{icon:"print"}),"\xa0",n.A.t("print")]}),M&&(0,r.jsx)(le,{buttons:[V&&{icon:"file-excel",text:"Excel",url:(0,re.$)(L),newTab:!0,key:"excel"},S&&{icon:"file-pdf",text:"PDF",url:(0,re.Ev)(L),newTab:!0,key:"pdf"}],buttonLabel:n.A.t("export_to_file"),buttonIcon:"download",leftSpace:!0}),A&&(0,r.jsx)(le,{leftSpace:!0,direction:ee.I.RIGHT,buttons:[{icon:"broom",text:n.A.t("clear_cache"),onClick:i,key:"clear_cache"},{icon:"eraser",text:n.A.t("clear_filtering"),onClick:d,key:"clear_filtering"},{icon:"unlink",text:n.A.t("reset_ordering"),onClick:u,key:"reset_ordering"},{icon:"sync-alt",text:n.A.t("refresh"),onClick:h,key:"refresh"}],buttonLabel:n.A.t("settings"),buttonIcon:"cog"})]})})]}):null}catch(P){return console.log(P),(0,r.jsx)(ie.A,{})}},ue={wrapper:{composes:"border table-auto",width:"100%"}},he=(0,o.MA)(ue),ge=e=>{const t=he(e);return(0,r.jsx)("table",{className:t.wrapper,children:e.children})},xe={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},dialog:{composes:"dialog hidden overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-50 justify-center items-center h-modal md:h-full md:inset-0 "},"dialog-open":{".dialog&":{display:"block",opacity:"0",animation:"$fadeIn 0.15s ease 0s normal forwards 1"}},"dialog-closed":{".dialog&":{display:"none",opacity:"0",animation:"none"}}},pe=(0,d.A)((0,d.A)({"@keyframes shine":{to:{"background-position":"100% 0"}}},xe),{},{"primary-button":{composes:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"secondary-button":{composes:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600"},"form-fields-container":{composes:"relative px-4 w-full h-full md:h-auto"},"form-fields":{composes:"relative bg-white shadow dark:bg-gray-700 overflow-auto",position:"relative","max-height":"calc(100vh - 240px)"},"skeleton-loader":{width:"100%",height:"15px",border:"1px solid rgb(239,239,239)","border-radius":"4px",display:"block","background-repeat":"repeat-y","background-size":"50px 500px","background-position":"0 0",background:"linear-gradient(to right, rgba(239, 239, 239, 0), rgba(239, 239, 239, 0.5) 50%, rgba(239, 239, 239, 0) 80%),rgb(255,255,255)",animation:"$shine 2s infinite","animation-delay":"0.3s"},"modal-header":{composes:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},"modal-header-label":{composes:"text-xl font-semibold text-gray-900 dark:text-white"},"modal-dialog":{composes:"relative p-4 w-full max-w-2xl h-full md:h-auto"},"modal-content":{composes:"relative bg-white rounded-lg shadow dark:bg-gray-700"}}),be={"mini-grid":{composes:"table table-bordered table-hover","margin-bottom":"0px"},"scrolling-wrapper":{width:"100%",position:"relative","overflow-x":"auto"},"column-text":{"&>span":{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},"align-items":"center","max-width":"350px","min-width":"0","vertical-align":"middle",display:"flex",height:"38px"},"mini-grid-body":{".table &":{"border-top":"none"}}};var fe=a(29605);const ye=(0,o.MA)(be),je=e=>e.configuration.locale,ve=e=>e.configuration.dateFormat,we=e=>{let{visibleColumns:t,rows:a}=e;const o=ye(),n=(0,c.d4)(je),l=(0,c.d4)(ve);return(0,r.jsx)("div",{className:o["scrolling-wrapper"],children:(0,r.jsxs)("table",{className:o["mini-grid"],children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map((e=>e.dataType===fe.b.INVISIBLE?null:(0,r.jsx)("th",{children:e.displayAs},e.name)))})}),(0,r.jsx)("tbody",{className:o["mini-grid-body"],children:a.map(((e,a)=>(0,r.jsx)("tr",{children:t.map((t=>t.dataType===fe.b.INVISIBLE?null:(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:o["column-text"],children:(0,x.x)(e[t.name],t.dataType,{permittedValues:t.permittedValues,fieldName:t.name,locale:n,dateFormat:l,primaryKeyValue:e.grocery_crud_extras.primaryKeyValue})})},t.name)))},a)))})]})})},Ne=e=>{let{title:t,onClose:a}=e;return(0,r.jsxs)("div",{className:"flex justify-between items-start p-5 rounded-t-lg top border-b dark:border-gray-600 bg-white",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 lg:text-2xl dark:text-white",children:t}),(0,r.jsx)("button",{onClick:a,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},Ae=(0,o.MA)(pe),ke=e=>{const{deleteMultipleModalOpen:t,deleteMultipleModalClose:a,deleteMultiple:o,selectedIds:l,visibleColumnsWithDetails:s,rows:i}=e,d=Ae();return(0,r.jsx)("div",{className:E()({[d.dialog]:!0,[d["dialog-open"]]:t,[d["dialog-closed"]]:!t}),tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:(0,r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)(Ne,{title:n.A.t("action_delete"),onClose:a}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("p",{children:(0,Y.a4)(l.length)}),t&&(0,r.jsx)(we,{visibleColumns:s,rows:i.filter((e=>l.includes(e.grocery_crud_extras.primaryKeyValue)))})]}),t&&(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:a,children:n.A.t("cancel")}),l.length>0&&(0,r.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:o,children:n.A.t("action_delete")})]})]})})})},Ce=(0,o.MA)(pe),_e=e=>{const{deleteOneModalOpen:t,deleteOneModalClose:a,deleteOne:o,visibleColumnsWithDetails:l,primaryKeyValue:s,rows:i}=e,d=Ce();return(0,r.jsx)("div",{className:E()({[d.dialog]:!0,[d["dialog-open"]]:t,[d["dialog-closed"]]:!t}),tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:(0,r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)(Ne,{title:n.A.t("action_delete"),onClose:a}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("p",{children:n.A.t("confirm_delete")}),t&&(0,r.jsx)(we,{visibleColumns:l,rows:i.filter((e=>e.grocery_crud_extras.primaryKeyValue===s))})]}),t&&(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:a,children:n.A.t("cancel")}),(0,r.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:o,children:n.A.t("action_delete")})]})]})})})},Me={"error-dialog":{composes:"modal","z-index":"1100",display:e=>{let{showError:t}=e;return t?"block":"none"}},"error-details":{width:"100%",height:"200px"}},Se=(0,o.MA)(Me),Ve=e=>{let{closeModal:t,showError:a,details:o,message:l}=e;const s=Se({showError:a});return(0,r.jsx)("div",{className:s["error-dialog"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:(0,r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:n.A.t("error_generic_title")}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:t})]}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{children:["Message: ",l]}),(0,r.jsx)("div",{children:"Error:"}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{defaultValue:o||"",className:s["error-details"]})})]}),(0,r.jsx)("div",{className:"modal-footer",children:(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:n.A.t("close_modal")})})]})})})};Ve.defaultProps={formFields:[]};const Ie=Ve,De={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"filtering-modal":{composes:"modal",display:e=>{let{filteringModalOpen:t}=e;return t?"block":"none"},opacity:"0",animation:e=>{let{filteringModalOpen:t}=e;return t?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}};var Oe=a(1427);const Te={"filtering-row":{composes:"row","padding-top":"10px","padding-bottom":"10px"}};var Fe=a(36141),Ee=a(75438),Le=a(44558);const Pe=(0,o.MA)(Te),Be=e=>{const{onFilteringModalClose:t,columns:a,onSubmit:o,extendedSearchOperator:l,extendedSearchData:s}=e,{control:i,handleSubmit:c,getValues:m}=(0,Oe.mN)({defaultValues:{basic_operator:l||"AND",extended_search:s.length>0?s:[{name:a[0].name,filter:"contains",value:""}]}}),{fields:u,append:h,remove:g,insert:x}=(0,Oe.jz)({control:i,name:"extended_search"}),b=Pe(e),f=u.length;return(0,r.jsxs)("form",{className:"form-horizontal",onSubmit:c((e=>{if(o){let t=[];e.extended_search.forEach((e=>{null!==e&&t.push(e)})),o((0,Fe.B)((0,d.A)((0,d.A)({},e),{},{extended_search:t})))}}),((e,t)=>console.log(e,t))),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:n.A.t("filtering_filter_text")}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:t})]}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("label",{className:"col-md-3 control-label",children:[n.A.t("filtering_operator")," :"]}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)(Oe.xI,{render:e=>{let{field:{onChange:t,value:a}}=e;return(0,r.jsxs)("select",{name:"basic_operator",onChange:t,className:"form-control form-select",defaultValue:a,children:[(0,r.jsx)("option",{value:"AND",children:n.A.t("filtering_and_statement")}),(0,r.jsx)("option",{value:"OR",children:n.A.t("filtering_or_statement")})]})},name:"basic_operator",control:i,defaultValue:"AND"})})]}),(0,r.jsx)("div",{children:u.map(((e,t)=>{const o=m("extended_search[".concat(t,"]")).name,n=a.find((e=>e.name===o));return(0,r.jsxs)("div",{className:b["filtering-row"],children:[(0,r.jsx)("div",{className:"col-md-1",children:(0,r.jsx)("button",{className:"btn btn-outline-dark btn-block",type:"button",onClick:()=>g(t),disabled:1===f,children:(0,r.jsx)(p.A,{icon:"trash"})})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)(Oe.xI,{render:e=>{let{field:{onChange:o,value:n}}=e;return(0,r.jsx)("select",{onChange:e=>{const n=(0,d.A)({},m("extended_search[".concat(t,"]"))),l=e.target.value,r=a.find((e=>e.name===n.name)),s=a.find((e=>e.name===l));(0,Ee.nX)(r.dataType,s.dataType)&&(g(t),x(t,{name:l,filter:(0,Ee.w0)(s.dataType),value:""})),o(e)},className:"form-control form-select",name:"extended_search[".concat(t,"].name"),value:n,children:a.map((e=>e.isSearchable&&(0,r.jsx)("option",{value:e.name,children:e.displayAs},e.name)))})},name:"extended_search[".concat(t,"].name"),control:i,defaultValue:e.firstName})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)(Oe.xI,{render:e=>{let{field:{onChange:a,value:o}}=e;return(0,r.jsx)(Le.A,{onChange:e=>{const o=(0,d.A)({},m("extended_search[".concat(t,"]"))),n=e.target.value;(0,Ee.qJ)(o.filter,n)&&(g(t),x(t,{name:o.name,filter:n,value:Ee.y3[n]?null:""})),a(e)},className:"form-control form-select",name:"extended_search[".concat(t,"].filter"),value:o,dataType:n.dataType})},name:"extended_search[".concat(t,"].filter"),control:i,defaultValue:e.filter})}),(0,r.jsx)("div",{className:"col-md-5",children:(0,r.jsx)(Oe.xI,{render:e=>{let{field:{onChange:a,onBlur:o,value:l}}=e;if(null===l)return null;const{dataType:s,permittedValues:i}=n,d=(0,z.So)(s);return(0,r.jsx)(d,{onChange:a,onBlur:o,className:b[(0,z.Kx)(s)],name:"extended_search[".concat(t,"].value"),value:l,required:!0,permittedValues:i})},name:"extended_search[".concat(t,"].value"),control:i,defaultValue:e.value})})]},e.id)}))}),(0,r.jsx)("div",{className:b["filtering-row"],children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("button",{type:"button",className:"btn btn-default btn-outline-dark",onClick:()=>{h({name:a[0].name,filter:"contains",value:""})},children:[(0,r.jsx)(p.A,{icon:"plus"}),"\xa0",n.A.t("filtering_add_more")]})})})]}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:n.A.t("filtering_cancel")}),(0,r.jsx)("button",{type:"submit",className:"btn btn-success delete-multiple-confirmation-button",children:n.A.t("filtering_filter_text")})]})]})},Re=(0,o.MA)(De),Ke=e=>{const{filteringModalOpen:t,onFilteringSubmit:a,columns:o}=e,n=Re(e);return(0,r.jsx)("div",{className:n["filtering-modal"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:t&&(0,r.jsx)(Be,(0,d.A)((0,d.A)({},e),{},{fields:o,onSubmit:a}))})};var ze=a(68501),Ue=a(22953),He=a(35278),We=a(44872);const $e=e=>e.form.closeModalOnSave,Ge=(0,o.MA)(pe),qe=e=>{let{configurationSettings:t,formFields:a,formIsReadOnly:o,formLoadingOverlay:l,formModalClose:s,formState:i,loadCssThirdParty:d,modalLoading:m,onFormSubmit:u,publishEvents:g}=e;const x=(0,c.d4)($e),p=(0,c.d4)((e=>e.configuration.openInModal)),b=(0,c.wA)(),{handleSubmit:f,control:y,register:j,setValue:v}=(0,Oe.mN)();(0,h.useEffect)((()=>{const e=e=>{let{detail:t}=e;v(t.fieldName,t.fieldValue)};return g&&(0,We.Ns)(We.bt,e),()=>{g&&(0,We.IU)(We.bt,e)}}),[v,g]);const w=Ge();return(0,r.jsxs)("form",{className:E()({[w.form]:!0,[w["form-loading"]]:l}),onSubmit:f((e=>{const t=(0,Ue.kU)(e,a);u({formState:i,data:t})}),((e,t)=>console.log(e,t))),children:[(0,r.jsx)("div",{className:E()({[w["form-fields"]]:!0,[w["form-fields-dialog"]]:p}),children:m?"Loading...":a.map((e=>(0,r.jsx)(He.A,{control:y,field:e,inputContainerClassName:"px-4 py-3 border border-gray-200 w-full",jssClasses:w,labelClassName:"w-1/4",labelContainerClassName:"flex px-4 py-3",loadCssThirdParty:d,readOnly:o,register:j,setValue:v,configurationSettings:t,formState:i},e.fieldName)))}),(0,r.jsxs)("div",{className:"flex items-center p-6 space-x-2 border-gray-200 dark:border-gray-600 bg-white rounded-lg",children:[!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{className:"options-on-save",children:[(0,r.jsx)("input",{type:"checkbox",checked:x,onChange:()=>b({type:Z.A.TOGGLE_CLOSE_MODAL_ON_SAVE})})," ",n.A.t("close_modal_on_save")]})," ","\xa0 \xa0"]}),(0,r.jsx)($,{onClick:s,label:n.A.t("close_modal")}),!o&&(0,r.jsx)("button",{type:"submit",className:w["primary-button"],children:n.A.t("modal_save")})]})]})};qe.defaultProps={configurationSettings:{}};const Je=qe,Xe=(0,o.MA)(pe),Qe=e=>{const{formModalLoading:t,formModalClose:a,formState:o,formModalOpen:n}=e,l=Xe(),s=(0,c.d4)((e=>e.configuration.subject));return(0,r.jsx)("div",{className:E()(l.dialog,{[l["dialog-open"]]:n,[l["dialog-closed"]]:!n}),tabIndex:"-1",role:"dialog",children:(0,r.jsxs)("div",{className:"max-w-screen-xl mx-auto border rounded-lg m-5",role:"document",children:[(0,r.jsx)(Ne,{title:(0,Y.gI)(o,s),onClose:a}),n&&(0,r.jsx)("div",{className:"modal-body",children:t?(0,r.jsx)("div",{className:l["skeleton-loader"]}):(0,r.jsx)(Je,(0,d.A)({},e))})]})})};Qe.defaultProps={formFields:[],openInModal:!0};const Ye=Qe,Ze=(0,o.MA)(pe),et=e=>{const{formModalLoading:t,formState:a,formModalOpen:o}=e,n=Ze(e),l=(0,c.d4)((e=>e.configuration.subject));return(0,r.jsxs)("div",{className:n["full-page"],tabIndex:"-1",children:[(0,r.jsx)("div",{className:n["full-page-title"],children:(0,Y.gI)(a,l)}),(0,r.jsx)("div",{children:o&&(0,r.jsx)("div",{className:"modal-body",children:t?(0,r.jsx)("div",{className:n["skeleton-loader"]}):(0,r.jsx)(Je,(0,d.A)({},e))})})]})};et.defaultProps={formFields:[],openInModal:!0};const tt=et,at=e=>{let t=Object.assign({},((0,ze.A)(e),e));return(0,c.d4)((e=>e.configuration.openInModal))?(0,r.jsx)(Ye,(0,d.A)({},t)):(0,r.jsx)(tt,(0,d.A)({},t))},ot=(0,o.MA)(H),nt=e=>{const{buttons:t,maxButtons:a}=e,o=ot(e);return(0,r.jsxs)("div",{className:o["buttons-group"],children:[t.filter(((e,t)=>t<a-1)).map((e=>(0,r.jsx)($,{onClick:t=>{t.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})},link:!0,href:e.url?e.url:"",icon:e.icon,label:e.text},e.key))),(0,r.jsx)(le,{buttons:t.filter(((e,t)=>t>=a-1)),buttonLabel:1===a?n.A.t("actions"):n.A.t("more")})]})};nt.defaultProps={buttons:[],maxButtons:2};const lt={ColumnsModal:i,DatagridBody:I,DatagridCheckbox:T,DatagridFooter:R,DatagridHeader:J,DatagridTitle:X,DatagridTools:me,DatagridWrapper:ge,DeleteMultipleModal:ke,DeleteSingleModal:_e,ErrorDialog:Ie,FilteringModal:Ke,FormDialog:at,GroupButtons:nt}}}]);