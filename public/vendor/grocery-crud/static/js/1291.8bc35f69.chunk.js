"use strict";(self.webpackChunkgrocery_crud_3_frontend=self.webpackChunkgrocery_crud_3_frontend||[]).push([[1291],{1291:(e,a,t)=>{t.r(a),t.d(a,{default:()=>aa});var o=t(21925),n=t(9177);const l={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"columns-modal":{composes:"modal",display:e=>{let{columnsModalOpen:a}=e;return a?"block":"none"},opacity:"0",animation:e=>{let{columnsModalOpen:a}=e;return a?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}};var r=t(29112);const i=(0,o.MA)(l),s=e=>{let{columns:a,columnsModalOpen:t,onColumnsModalClose:o,selectColumnsAllOrNone:l,toggleVisibleColumn:s,visibleColumns:d}=e;const c=i({columnsModalOpen:t});return(0,r.jsx)("div",{className:c["columns-modal"],tabIndex:"-1",role:"dialog",children:(0,r.jsx)("div",{className:"modal-dialog modal-l",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:n.A.t("columns")}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:o})]}),(0,r.jsx)("div",{className:"modal-body",children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"checkbox",onChange:()=>l(a),checked:d.length===a.length})}),a.map((e=>(0,r.jsx)("div",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:d.includes(e.name),onChange:()=>s(e.name,a)})," ",e.displayAs]})},e.name)))]})})]})})})};var d=t(93362),c=t(46422);const m={"column-text":{overflow:"hidden","max-width":"350px","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"},"column-action":{"white-space":"nowrap","border-left":"none"}};var u=t(69580),p=t(85284),h=t(71444),g=t(64417),x=t(10269),b=t(18681),f=t(7160);const j=["lastPrimaryKeyValue","rowData","hasActions","visibleColumns","settings","configurationSettings","rightSideActions","skin","theme","publishEvents"],v=e=>e.configuration.locale,y=e=>e.configuration.dateFormat,k=e=>e.configuration.hasMasterDetail,N=e=>e.columnWidth,A=e=>e.masterDetail.openedRows,C=(0,o.MA)(m),w=e=>{let{lastPrimaryKeyValue:a,rowData:t,hasActions:o,visibleColumns:n,settings:l={},configurationSettings:{onRowUpdate:i,onRowUnmount:s,actionButtonsMultiple:m}={},rightSideActions:w,skin:_,theme:M,publishEvents:S}=e,V=(0,u.A)(e,j);const I=(0,c.d4)(v),T=(0,c.d4)(y),D=(0,c.d4)(N),O=(0,c.d4)(k),E=(0,c.d4)(A),F=(0,c.wA)(),L=C(),{grocery_crud_extras:{primaryKeyValue:P}}=t;(0,p.useLayoutEffect)((()=>(i&&i({primaryKeyValue:P}),()=>{s&&s({primaryKeyValue:P})})),[P,t,i,s]);const R=()=>(0,r.jsx)("td",{className:L["column-action"],children:(0,r.jsx)(h.A,(0,d.A)((0,d.A)({},V),{},{actionButtonsMultiple:m,backendActionButtons:t.grocery_crud_extras.actionButtons,actionButtons:l.actionButtons,primaryKeyValue:P}))},"column__action"),B=O&&E.find((e=>e===P));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{className:a&&a===t.grocery_crud_extras.primaryKeyValue?L["animation-flash"]:void 0,children:[o&&!w&&n.length>0&&(0,r.jsx)(R,{}),n.map(((e,a)=>(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:L["column-text"],style:{width:D[e.name]},children:[O&&0===a&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:L["open-row"],onClick:()=>F({type:B?b.R.CLOSE_ROW:b.R.OPEN_ROW,rowId:P}),children:(0,r.jsx)(x.A,{icon:B?"caret-down":"caret-right"})})}),(0,g.x)(t[e.name],e.dataType,{dateFormat:T,fieldName:e.name,fieldOptions:e.options,locale:I,permittedValues:e.permittedValues,primaryKeyValue:P})]})},e.name))),o&&w&&n.length>0&&(0,r.jsx)(R,{})]}),B&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:n.length+(o?1:0),children:(0,r.jsx)(f.A,{primaryKeyValue:P,skin:_,theme:M,publishEvents:S})})})]})},_=(0,o.MA)(m),M=e=>e.datagridRows,S=e=>e.configuration.rightSideActions,V=e=>{const a=(0,c.d4)(M),t=(0,c.d4)(S),o=_();return(0,r.jsx)("tbody",{className:o["table-body"],children:a.map(((a,o)=>(0,r.jsx)(w,(0,d.A)({rowData:a,rightSideActions:t},e),o)))})},I={checkbox:{"margin-right":"10px"}},T=(0,o.MA)(I),D=e=>{let{onChange:a,checked:t}=e;const o=T();return(0,r.jsx)("input",{type:"checkbox",className:o.checkbox,onChange:a,checked:t})};var O=t(83100);const E={footer:{display:"flex",padding:"5px",justifyContent:"space-between",alignItems:"center"},"footer-child":{display:"flex",alignItems:"center","& > div":{paddingRight:"5px"}},pagination:{margin:"0",display:"flex","padding-left":0,"list-style":"none"},"pagination-item-first":{"& button":{backgroundColor:"#fff",padding:"6px 12px",border:e=>1===e.page?"1px solid #dee2e6":"1px solid #6c757d",color:e=>1===e.page?"#6c757d":"#0d6efd",pointerEvents:e=>1===e.page?"none":"auto"}},"pagination-item-last":{"& button":{backgroundColor:"#fff",padding:"6px 12px",border:e=>e.page===e.lastPage?"1px solid #dee2e6":"1px solid #6c757d",color:e=>e.page===e.lastPage?"#6c757d":"#0d6efd",pointerEvents:e=>e.page===e.lastPage?"none":"auto"}},"page-number":{borderRadius:"0",width:"100px",borderLeft:"none",borderRight:"none",padding:"6px 12px",border:"1px solid #ced4da",lineHeight:"1.5"}},F=(0,o.MA)(E),L=e=>{const a=F(e),{filteredTotalEntries:t,goToFirstPage:o,goToLastPage:n,goToNextPage:l,goToPreviousPage:i,lastPage:s,page:d,pageChange:c,totalEntries:m,perPage:u,perPageChange:p,forceSearch:h,pagingOptions:g}=e;return(0,r.jsxs)("div",{className:a.footer,children:[(0,r.jsxs)("div",{className:a["footer-child"],children:[(0,r.jsx)("div",{children:"Show"}),(0,r.jsx)("div",{className:"floatL per-page-container",children:(0,r.jsx)("select",{className:"form-control form-select",onChange:p,value:u,children:g.map((e=>(0,r.jsx)("option",{value:e,children:e},e)))})}),(0,r.jsx)("div",{children:"entries"})]}),(0,r.jsxs)("div",{className:a["footer-child"],children:[t?(0,r.jsx)("div",{children:(0,r.jsx)(O.A,{currentPage:d,totalEntries:m,perPage:u,filteredTotalEntries:t})}):null,(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:a.pagination,children:[(0,r.jsx)("li",{className:a["pagination-item-first"],children:(0,r.jsx)("button",{className:"page-link",onClick:()=>o(d,s),children:(0,r.jsx)(x.A,{icon:"step-backward"})})}),(0,r.jsx)("li",{className:a["pagination-item-first"],children:(0,r.jsx)("button",{className:"page-link",onClick:()=>i(d,s),children:(0,r.jsx)(x.A,{icon:"chevron-left"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("input",{type:"number",className:a["page-number"],value:d,onChange:e=>c(e,d,s),disabled:0===t,onKeyUp:e=>{"Enter"===e.key&&h()}})}),(0,r.jsx)("li",{className:a["pagination-item-last"],children:(0,r.jsx)("button",{className:"page-link",onClick:()=>l(d,s),children:(0,r.jsx)(x.A,{icon:"chevron-right"})})}),(0,r.jsx)("li",{className:a["pagination-item-last"],children:(0,r.jsx)("button",{className:"page-link",onClick:()=>n(d,s),children:(0,r.jsx)(x.A,{icon:"step-forward"})})})]})})]})]})},P={"search-column":{"min-width":"160px","& input[type=text], & input[type=search], & input[type=date], & input[type=datetime-local]":{display:"block",width:"100%",padding:"0.375rem 0.75rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#212529",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #ced4da",appearance:"none",borderRadius:"0.25rem",transition:"border-color .15s ease-in-out,box-shadow .15s ease-in-out"}}};var R=t(59196);const B=(0,o.MA)(P),K=e=>{const{DatagridCheckbox:a,columnOrdering:t,columnSearch:o,columnSearchValues:l,extendedSearchData:i,forceSearch:s,hasActions:d,onMultipleDeleteModalOpen:c,onSelectRowAllOrNone:m,options:{actionButtonHasText:u},selectRowsAllOrNoneChecked:p,selectedIds:h,sorting:b,sortingFor:f,visibleColumns:j,loadCssThirdParty:v}=e,y=B(e),k=0===i.length;return(0,r.jsxs)("thead",{children:[(0,r.jsxs)("tr",{children:[d&&j.length>0&&(0,r.jsx)("th",{children:n.A.t("actions")}),j.map((e=>(0,r.jsx)("th",{className:y["table-th-with-ordering"],onClick:()=>t({columnName:e.name,sorting:""===b||"desc"===b?"asc":"desc"}),children:(0,r.jsxs)("div",{className:y["with-ordering"],children:[(0,r.jsx)("span",{children:e.displayAs}),f===e.name?(0,r.jsx)(x.A,{icon:"asc"===b?"sort-amount-down-alt":"sort-amount-down"}):(0,r.jsx)(x.A,{icon:"sort"})]})},e.name)))]}),(0,r.jsxs)("tr",{children:[d&&j.length>0&&(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:y["actions-column-header"],children:[(0,r.jsx)(a,{onChange:m,checked:p}),h.length>0&&(0,r.jsxs)("button",{type:"button",className:"btn btn-default btn-outline-dark",onClick:c,children:[(0,r.jsx)(x.A,{icon:"trash"}),"\xa0\xa0",u&&(0,r.jsx)("span",{children:n.A.t("action_delete")})]})]})}),j.map((e=>{const a=(0,R.So)(e.dataType);return(0,r.jsx)("td",{className:y["search-column"],children:k&&(0,r.jsx)(a,{className:y[(0,g.o)(e.dataType)],placeholder:n.A.t("quick_search"),permittedValues:e.permittedValues,loadCssThirdParty:v,onChange:a=>{o({columnName:e.name,searchValue:a.target.value,searchValueDisplayAs:a.target.displayAs}),!0===(0,R.eD)(e.dataType)&&s()},onKeyUp:e=>{"Enter"===e.key&&s()},value:l[e.name]?l[e.name]:""})},e.name)}))]})]})};K.defaultProps={hasActions:!1,visibleColumns:[],options:{actionButtonHasText:!0}};const W=K,U={title:{background:"var(--gc-dark-background)",color:"var(--gc-dark-background-text-color)",width:"100%",padding:"5px 10px","text-align":"left"}},z=(0,o.MA)(U),H=e=>{const{title:a}=e,t=z(e);return(0,r.jsx)("div",{className:t.title,children:a})};var G=t(74753),q=t.n(G);const $={"datagrid-tools":{position:"relative",padding:"10px","border-left":"1px solid var(--gc-border-separator-color)","border-right":"1px solid var(--gc-border-separator-color)",display:"flex","justify-content":"space-between"}};var J=t(17714),X=t(48411);const Q={"simple-button":{display:"inline-block","font-weight":"400","line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer","user-select":"none","background-color":"transparent",border:"1px solid transparent",padding:"0.375rem 0.75rem","font-size":"1rem","border-radius":"0.25rem",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out","margin-right":"5px",color:"var(--gc-default-text-color)","border-color":"var(--gc-default-text-color)"}},Y={"left-space":{"margin-left":"5px"},"bottom-space":{"margin-bottom":"5px"},"dropdown-menu-opened":{display:"block"},"dropdown-menu-closed":{display:"none"},"dropdown-menu-right":{right:"0"},"dropdown-menu":{background:"var(--gc-dark-background)",color:"var(--gc-dark-background-text-color)","margin-top":"38px",position:"absolute","z-index":"1000","min-width":"10rem",padding:"0.5rem 0",margin:"0","font-size":"1rem","text-align":"left","list-style":"none","background-clip":"padding-box",border:"1px solid rgba(0, 0, 0, 0.175)","border-radius":"0.375rem","box-shadow":"0 0.5rem 1rem rgba(0, 0, 0, 0.15)"},"dropdown-item":{color:"var(--gc-dark-background-text-color)",display:"block",padding:"0.25rem 1rem",clear:"both","font-weight":"400","text-align":"inherit","white-space":"nowrap",background:"none",border:"0",cursor:"pointer","font-size":"1rem","text-decoration":"none","line-height":"1.5","a&":{color:"var(--gc-dark-background-text-color)","text-decoration":"none"},"a&:hover":{background:"var(--gc-light-background)",color:"var(--gc-light-background-text-color)","text-decoration":"none"}},"dropdown-menu-container":{position:"relative",display:"inline-flex","vertical-align":"middle"},"dropdown-menu-button":(0,d.A)((0,d.A)({position:"relative",flex:"1 1 auto"},Q["simple-button"]),{},{"&::after":{display:"inline-block","margin-left":"0.255em","vertical-align":"0.255em",content:'""',"border-top":"0.3em solid","border-right":"0.3em solid transparent","border-bottom":"0","border-left":"0.3em solid transparent","border-top-color":"initial","border-right-color":"transparent","border-bottom-color":"initial","border-left-color":"transparent"}})};var Z=t(24564);const ee=(0,o.MA)(Y),ae=e=>{let{buttons:a=[],buttonIcon:t="",buttonLabel:o="",direction:n=Z.I.LEFT,leftSpace:l=!1,bottomSpace:i=!1}=e;const s=(0,p.useRef)(null),[d,c]=(0,p.useState)(!1);const m=ee();return 0===a.length?null:(0,r.jsxs)("div",{className:q()({[m["dropdown-menu-container"]]:!0,[m["left-space"]]:l,[m["bottom-space"]]:i}),ref:s,children:[(0,r.jsxs)("button",{className:m["dropdown-menu-button"],onClick:function(){c(!d)},onBlur:function(){setTimeout((()=>{c(!1)}),200)},children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{icon:t}),"\xa0"]}),o,"\xa0",(0,r.jsx)(x.A,{icon:"caret"})]}),(0,r.jsx)("ul",{className:q()({[m["dropdown-menu"]]:!0,[m["dropdown-menu-right"]]:n===Z.I.RIGHT,[m["dropdown-menu-opened"]]:d,[m["dropdown-menu-closed"]]:!d}),children:a.map((e=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:e.url?e.url:"",target:e.newTab?"_blank":void 0,className:m["dropdown-item"],rel:"noreferrer",onClick:e.onClick?a=>{a.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})}:void 0,children:[e.icon&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{icon:e.icon}),"\xa0\xa0"]}),e.text]})},e.key)))})]})};var te=t(89899);const oe=(0,o.MA)(Q),ne=e=>{let{onClick:a,icon:t,label:o,link:n=!1,href:l}=e;const i=oe();return n?(0,r.jsxs)("a",{className:i["simple-button"],onClick:a,href:l,children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{icon:t}),"\xa0"]}),o]}):(0,r.jsxs)("button",{className:i["simple-button"],onClick:a,children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{icon:t}),"\xa0"]}),o]})};var le=t(11534),re=t(65222),ie=t(22553);const se=(0,o.MA)($),de=e=>{const{apiUrl:a,columnSearchValues:t,extendedSearchData:o,hasAdd:l,onAdd:i,onClearCache:s,onClearFiltering:d,onFilteringModalOpen:m,onOrderingReset:u,onRefresh:p,sorting:h,sortingFor:g,urlUniqueHash:x,visibleColumnsAsShortString:b,isMobileDevice:f}=e,j=se(e),v=(0,c.wA)(),y=(0,c.d4)((e=>e.configuration.urlHistory)),k=(0,c.d4)((e=>e.configuration.subject)),N=(0,c.d4)((e=>e.configuration.landingPageUrl)),A=(0,c.d4)((e=>e.configuration.hasSettings)),C=(0,c.d4)((e=>e.configuration.hasPrint)),w=(0,c.d4)((e=>e.configuration.hasFilters)),_=(0,c.d4)((e=>e.configuration.hasColumnsButton)),M=(0,c.d4)((e=>e.configuration.hasExportData)),S=(0,c.d4)((e=>e.configuration.hasExportPdf)),V=(0,c.d4)((e=>e.configuration.hasExportExcel)),I=(0,c.d4)((e=>e.configuration.hasTopLeftButtons)),T=(0,c.d4)((e=>e.configuration.hasTopRightButtons)),D=(0,c.d4)((e=>e.configuration.datagridButtonsTopLeft)),O=(0,c.d4)((e=>e.configuration.datagridButtonsTopRight)),E=I||T,F=x?"/".concat(x):"",L={apiUrl:a,columnSearchValues:t,sorting:h,sortingFor:g,visibleColumnsAsShortString:b,extendedSearchData:o};try{return E?(0,r.jsxs)("div",{className:q()({[j["datagrid-tools"]]:!0,[j["datagrid-tools-mobile"]]:f}),children:[(0,r.jsxs)("div",{children:[I&&(0,r.jsx)(r.Fragment,{children:l&&(0,r.jsx)(ne,{link:!0,bottomSpace:!0,href:y?"".concat(N).concat(F,"/add"):"",icon:"plus",label:(0,J.gI)(X.A.ADD,k),onClick:e=>{e.preventDefault(),i()}})}),(0,r.jsx)(ie.A,{Button:ne,buttons:D,bottomSpace:!0})]}),(0,r.jsx)("div",{children:T&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ie.A,{Button:ne,buttons:O,bottomSpace:!0}),w&&(0,r.jsx)(ne,{className:o.length>0?j["success-button"]:j["simple-button"],onClick:m,icon:"filter",label:(0,J.P7)(o.length)}),w&&(o.length>0||Object.keys(t).length>0)&&(0,r.jsx)(ne,{className:j["warning-button"],onClick:d,icon:"eraser",label:n.A.t("filtering_remove_filters")}),_&&(0,r.jsx)(ne,{onClick:()=>(e=>e({type:le.L.MODAL_OPEN}))(v),label:n.A.t("columns"),icon:"list-alt",bottomSpace:!0}),C&&(0,r.jsx)(ne,{link:!0,newTab:!0,href:(0,te.D1)(L),icon:"print",label:n.A.t("print"),bottomSpace:!0}),M&&(0,r.jsx)(ae,{buttons:[V&&{icon:"file-excel",text:"Excel",url:(0,te.$)(L),newTab:!0,key:"excel"},S&&{icon:"file-pdf",text:"PDF",url:(0,te.Ev)(L),newTab:!0,key:"pdf"}],buttonLabel:n.A.t("export_to_file"),buttonIcon:"download",leftSpace:!0,bottomSpace:!0}),A&&(0,r.jsx)(ae,{leftSpace:!0,bottomSpace:!0,direction:Z.I.RIGHT,buttons:[{icon:"broom",text:n.A.t("clear_cache"),onClick:s,key:"clear_cache"},{icon:"eraser",text:n.A.t("clear_filtering"),onClick:d,key:"clear_filtering"},{icon:"unlink",text:n.A.t("reset_ordering"),onClick:u,key:"reset_ordering"},{icon:"sync-alt",text:n.A.t("refresh"),onClick:p,key:"refresh"}],buttonLabel:n.A.t("settings"),buttonIcon:"cog"})]})})]}):null}catch(P){return console.log(P),(0,r.jsx)(re.A,{})}},ce={wrapper:{width:"100%","border-color":"#dee2e6","& tr":{"border-width":"1px 0","border-color":"inherit","border-style":"solid"},"& tr td, & tr th":{padding:"8px","border-width":"0 1px","border-color":"inherit","border-style":"solid"}}},me=(0,o.MA)(ce),ue=e=>{const a=me(e);return(0,r.jsx)("table",{className:a.wrapper,children:e.children})},pe={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},dialog:{position:"fixed",zIndex:"9999",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto",backgroundColor:"var(--gc-default-background)",color:"var(--gc-default-text-color)"},"modal-dialog":{position:"relative",margin:"1.75rem auto",width:"100%",maxWidth:"500px",borderRadius:"0.3rem",backgroundColor:"var(--gc-dark-background)",boxShadow:"0 0.5rem 1rem rgba(0, 0, 0, 0.15)","@media (min-width: 576px)":{maxWidth:"500px",margin:"1.75rem auto"},"@media (min-width: 992px)":{maxWidth:"800px"},"@media (min-width: 1200px)":{maxWidth:"1140px"}},"modal-content":{position:"relative",display:"flex",flexDirection:"column",width:"100%",pointerEvents:"auto",backgroundColor:"var(--gc-dark-background)",backgroundClip:"padding-box",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:"0.3rem",outline:"0"},"dialog-open":{display:"block",opacity:"0",animation:"$fadeIn 0.15s ease 0s normal forwards 1"},"dialog-closed":{display:"none",opacity:"0",animation:"none"},"dialog-header":{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1rem",borderBottom:"1px solid var(--gc-border-separator-color)",borderTopLeftRadius:"calc(0.3rem - 1px)",borderTopRightRadius:"calc(0.3rem - 1px)",backgroundColor:"var(--gc-dark-background)",color:"var(--gc-dark-background-text-color)"},"dialog-title":{composes:"modal-title"},"dialog-close-button":{composes:"btn-close","button&":{cursor:"pointer"}}},he=(0,d.A)((0,d.A)({},pe),{},{"full-page-title":{background:"var(--gc-dark-background)",color:"var(--gc-dark-background-text-color)",width:"100%",padding:"5px 10px","text-align":"left"}}),ge={"mini-grid":{composes:"table table-bordered table-hover","margin-bottom":"0px"},"scrolling-wrapper":{width:"100%",position:"relative","overflow-x":"auto"},"column-text":{"&>span":{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},"align-items":"center","max-width":"350px","min-width":"0","vertical-align":"middle",display:"flex",height:"38px"},"mini-grid-body":{".table &":{"border-top":"none"}}};var xe=t(29605);const be=(0,o.MA)(ge),fe=e=>e.configuration.locale,je=e=>e.configuration.dateFormat,ve=e=>{let{visibleColumns:a,rows:t}=e;const o=be(),n=(0,c.d4)(fe),l=(0,c.d4)(je);return(0,r.jsx)("div",{className:o["scrolling-wrapper"],children:(0,r.jsxs)("table",{className:o["mini-grid"],children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:a.map((e=>e.dataType===xe.b.INVISIBLE?null:(0,r.jsx)("th",{children:e.displayAs},e.name)))})}),(0,r.jsx)("tbody",{className:o["mini-grid-body"],children:t.map(((e,t)=>(0,r.jsx)("tr",{children:a.map((a=>a.dataType===xe.b.INVISIBLE?null:(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:o["column-text"],children:(0,g.x)(e[a.name],a.dataType,{permittedValues:a.permittedValues,fieldName:a.name,locale:n,dateFormat:l,primaryKeyValue:e.grocery_crud_extras.primaryKeyValue})})},a.name)))},t)))})]})})},ye=(0,o.MA)(pe),ke=e=>{let{title:a,onClose:t}=e;const o=ye();return(0,r.jsxs)("div",{className:o["dialog-header"],children:[(0,r.jsx)("h5",{className:o["dialog-title"],children:a}),(0,r.jsx)("button",{type:"button",className:o["dialog-close-button"],"aria-label":"Close",onClick:t})]})},Ne=(0,o.MA)(he),Ae=e=>{const{deleteMultipleModalOpen:a,deleteMultipleModalClose:t,deleteMultiple:o,selectedIds:l,visibleColumnsWithDetails:i,rows:s}=e,d=Ne();return(0,r.jsx)("div",{className:q()({[d.dialog]:!0,[d["dialog-open"]]:a,[d["dialog-closed"]]:!a}),tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:(0,r.jsx)("div",{className:d["dialog-modal"],role:"document",children:(0,r.jsxs)("div",{className:d["dialog-content"],children:[(0,r.jsx)(ke,{title:n.A.t("action_delete"),onClose:t}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("p",{children:(0,J.a4)(l.length)}),a&&(0,r.jsx)(ve,{visibleColumns:i,rows:s.filter((e=>l.includes(e.grocery_crud_extras.primaryKeyValue)))})]}),a&&(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:n.A.t("cancel")}),l.length>0&&(0,r.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:o,children:n.A.t("action_delete")})]})]})})})},Ce=(0,o.MA)(he),we=e=>{const{deleteOneModalOpen:a,deleteOneModalClose:t,deleteOne:o,visibleColumnsWithDetails:l,primaryKeyValue:i,rows:s}=e,d=Ce();return(0,r.jsx)("div",{className:q()({[d.dialog]:!0,[d["dialog-open"]]:a,[d["dialog-closed"]]:!a}),tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:(0,r.jsx)("div",{className:d["dialog-modal"],role:"document",children:(0,r.jsxs)("div",{className:d["dialog-content"],children:[(0,r.jsx)(ke,{title:n.A.t("action_delete"),onClose:t}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("p",{children:n.A.t("confirm_delete")}),a&&(0,r.jsx)(ve,{visibleColumns:l,rows:s.filter((e=>e.grocery_crud_extras.primaryKeyValue===i))})]}),a&&(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:n.A.t("cancel")}),(0,r.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:o,children:n.A.t("action_delete")})]})]})})})},_e={"error-dialog":{composes:"modal","z-index":"1100",display:e=>{let{showError:a}=e;return a?"block":"none"}},"error-details":{width:"100%",height:"200px"}},Me=(0,o.MA)(_e),Se=e=>{let{closeModal:a,showError:t,details:o,message:l}=e;const i=Me({showError:t});return(0,r.jsx)("div",{className:i["error-dialog"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:(0,r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:n.A.t("error_generic_title")}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:a})]}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{children:["Message: ",l]}),(0,r.jsx)("div",{children:"Error:"}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{defaultValue:o||"",className:i["error-details"]})})]}),(0,r.jsx)("div",{className:"modal-footer",children:(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:a,children:n.A.t("close_modal")})})]})})})};Se.defaultProps={formFields:[]};const Ve=Se,Ie={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"filtering-modal":{composes:"modal",display:e=>{let{filteringModalOpen:a}=e;return a?"block":"none"},opacity:"0",animation:e=>{let{filteringModalOpen:a}=e;return a?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}};var Te=t(1427);const De={"filtering-row":{composes:"row","padding-top":"10px","padding-bottom":"10px"}};var Oe=t(36141),Ee=t(75438),Fe=t(44558);const Le=(0,o.MA)(De),Pe=e=>{const{onFilteringModalClose:a,columns:t,onSubmit:o,extendedSearchOperator:l,extendedSearchData:i}=e,{control:s,handleSubmit:c,getValues:m}=(0,Te.mN)({defaultValues:{basic_operator:l||"AND",extended_search:i.length>0?i:[{name:t[0].name,filter:"contains",value:""}]}}),{fields:u,append:p,remove:h,insert:g}=(0,Te.jz)({control:s,name:"extended_search"}),b=Le(e),f=u.length;return(0,r.jsxs)("form",{className:"form-horizontal",onSubmit:c((e=>{if(o){let a=[];e.extended_search.forEach((e=>{null!==e&&a.push(e)})),o((0,Oe.B)((0,d.A)((0,d.A)({},e),{},{extended_search:a})))}}),((e,a)=>console.log(e,a))),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:n.A.t("filtering_filter_text")}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:a})]}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("label",{className:"col-md-3 control-label",children:[n.A.t("filtering_operator")," :"]}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)(Te.xI,{render:e=>{let{field:{onChange:a,value:t}}=e;return(0,r.jsxs)("select",{name:"basic_operator",onChange:a,className:"form-control form-select",defaultValue:t,children:[(0,r.jsx)("option",{value:"AND",children:n.A.t("filtering_and_statement")}),(0,r.jsx)("option",{value:"OR",children:n.A.t("filtering_or_statement")})]})},name:"basic_operator",control:s,defaultValue:"AND"})})]}),(0,r.jsx)("div",{children:u.map(((e,a)=>{const o=m("extended_search[".concat(a,"]")).name,n=t.find((e=>e.name===o));return(0,r.jsxs)("div",{className:b["filtering-row"],children:[(0,r.jsx)("div",{className:"col-md-1",children:(0,r.jsx)("button",{className:"btn btn-outline-dark btn-block",type:"button",onClick:()=>h(a),disabled:1===f,children:(0,r.jsx)(x.A,{icon:"trash"})})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)(Te.xI,{render:e=>{let{field:{onChange:o,value:n}}=e;return(0,r.jsx)("select",{onChange:e=>{const n=(0,d.A)({},m("extended_search[".concat(a,"]"))),l=e.target.value,r=t.find((e=>e.name===n.name)),i=t.find((e=>e.name===l));(0,Ee.nX)(r.dataType,i.dataType)&&(h(a),g(a,{name:l,filter:(0,Ee.w0)(i.dataType),value:""})),o(e)},className:"form-control form-select",name:"extended_search[".concat(a,"].name"),value:n,children:t.map((e=>e.isSearchable&&(0,r.jsx)("option",{value:e.name,children:e.displayAs},e.name)))})},name:"extended_search[".concat(a,"].name"),control:s,defaultValue:e.firstName})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)(Te.xI,{render:e=>{let{field:{onChange:t,value:o}}=e;return(0,r.jsx)(Fe.A,{onChange:e=>{const o=(0,d.A)({},m("extended_search[".concat(a,"]"))),n=e.target.value;(0,Ee.qJ)(o.filter,n)&&(h(a),g(a,{name:o.name,filter:n,value:Ee.y3[n]?null:""})),t(e)},className:"form-control form-select",name:"extended_search[".concat(a,"].filter"),value:o,dataType:n.dataType})},name:"extended_search[".concat(a,"].filter"),control:s,defaultValue:e.filter})}),(0,r.jsx)("div",{className:"col-md-5",children:(0,r.jsx)(Te.xI,{render:e=>{let{field:{onChange:t,onBlur:o,value:l}}=e;if(null===l)return null;const{dataType:i,permittedValues:s}=n,d=(0,R.So)(i);return(0,r.jsx)(d,{onChange:t,onBlur:o,className:b[(0,R.Kx)(i)],name:"extended_search[".concat(a,"].value"),value:l,required:!0,permittedValues:s})},name:"extended_search[".concat(a,"].value"),control:s,defaultValue:e.value})})]},e.id)}))}),(0,r.jsx)("div",{className:b["filtering-row"],children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("button",{type:"button",className:"btn btn-default btn-outline-dark",onClick:()=>{p({name:t[0].name,filter:"contains",value:""})},children:[(0,r.jsx)(x.A,{icon:"plus"}),"\xa0",n.A.t("filtering_add_more")]})})})]}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:a,children:n.A.t("filtering_cancel")}),(0,r.jsx)("button",{type:"submit",className:"btn btn-success delete-multiple-confirmation-button",children:n.A.t("filtering_filter_text")})]})]})},Re=(0,o.MA)(Ie),Be=e=>{const{filteringModalOpen:a,onFilteringSubmit:t,columns:o}=e,n=Re(e);return(0,r.jsx)("div",{className:n["filtering-modal"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:a&&(0,r.jsx)(Pe,(0,d.A)((0,d.A)({},e),{},{fields:o,onSubmit:t}))})};var Ke=t(68501),We=t(22953),Ue=t(35278),ze=t(44872);const He=e=>e.form.closeModalOnSave,Ge=(0,o.MA)(he),qe=e=>{let{configurationSettings:a={},formFields:t=[],formIsReadOnly:o,formLoadingOverlay:l,formModalClose:i,formState:s,loadCssThirdParty:d,modalLoading:m,onFormSubmit:u,publishEvents:h}=e;const g=(0,c.d4)(He),x=(0,c.d4)((e=>e.configuration.openInModal)),b=(0,c.wA)(),{handleSubmit:f,control:j,register:v,setValue:y}=(0,Te.mN)();(0,p.useEffect)((()=>{const e=e=>{let{detail:a}=e;y(a.fieldName,a.fieldValue)};return h&&(0,ze.Ns)(ze.bt,e),()=>{h&&(0,ze.IU)(ze.bt,e)}}),[y,h]);const k=Ge();return(0,r.jsxs)("form",{className:q()({[k.form]:!0,[k["form-loading"]]:l}),onSubmit:f((e=>{const a=(0,We.kU)(e,t);u({formState:s,data:a})}),((e,a)=>console.log(e,a))),children:[(0,r.jsx)("div",{className:q()({[k["form-fields"]]:!0,[k["form-fields-dialog"]]:x}),children:m?"Loading...":t.map((e=>(0,r.jsx)(Ue.A,{control:j,field:e,inputContainerClassName:"col-sm-9",jssClasses:k,labelClassName:"col-sm-3 col-form-label",labelContainerClassName:"mb-3 row",loadCssThirdParty:d,readOnly:o,register:v,setValue:y,configurationSettings:a,formState:s},e.fieldName)))}),(0,r.jsxs)("div",{className:"modal-footer",children:[!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{className:"options-on-save",children:[(0,r.jsx)("input",{type:"checkbox",checked:g,onChange:()=>b({type:X.A.TOGGLE_CLOSE_MODAL_ON_SAVE})})," ",n.A.t("close_modal_on_save")]})," ","\xa0 \xa0"]}),(0,r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:i,children:n.A.t("close_modal")}),!o&&(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:n.A.t("modal_save")})]})]})},$e=(0,o.MA)(he),Je=e=>{const{formModalLoading:a,formModalClose:t,formState:o,formModalOpen:n}=e,l=$e(),i=(0,c.d4)((e=>e.configuration.subject));return(0,r.jsx)("div",{className:q()(l.dialog,{[l["dialog-open"]]:n,[l["dialog-closed"]]:!n}),tabIndex:"-1",role:"dialog",children:(0,r.jsx)("div",{className:l["modal-dialog"],children:(0,r.jsxs)("div",{className:l["modal-content"],children:[(0,r.jsx)(ke,{title:(0,J.gI)(o,i),onClose:t}),n&&(0,r.jsx)("div",{className:"modal-body",children:a?(0,r.jsx)("div",{className:l["skeleton-loader"]}):(0,r.jsx)(qe,(0,d.A)({},e))})]})})})},Xe=(0,o.MA)(he),Qe=e=>{const{formModalLoading:a,formState:t,formModalOpen:o}=e,n=Xe(e),l=(0,c.d4)((e=>e.configuration.subject));return(0,r.jsxs)("div",{className:n["full-page"],tabIndex:"-1",children:[(0,r.jsx)("div",{className:n["full-page-title"],children:(0,J.gI)(t,l)}),(0,r.jsx)("div",{children:o&&(0,r.jsx)("div",{className:"modal-body",children:a?(0,r.jsx)("div",{className:n["skeleton-loader"]}):(0,r.jsx)(qe,(0,d.A)({},e))})})]})},Ye=e=>{let a=Object.assign({},((0,Ke.A)(e),e));return(0,c.d4)((e=>e.configuration.openInModal))?(0,r.jsx)(Je,(0,d.A)({},a)):(0,r.jsx)(Qe,(0,d.A)({},a))},Ze=(0,o.MA)(Q),ea=e=>{const{buttons:a,maxButtons:t}=e,o=Ze(e);return(0,r.jsxs)(r.Fragment,{children:[a.filter(((e,a)=>a<t-1)).map((e=>(0,r.jsxs)("a",{href:e.url?e.url:"",className:o["simple-button"],onClick:a=>{a.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})},children:[e.icon&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{icon:e.icon}),"\xa0"]}),e.text]},e.key))),(0,r.jsx)(ae,{buttons:a.filter(((e,a)=>a>=t-1)),buttonLabel:1===t?n.A.t("actions"):n.A.t("more")})]})};ea.defaultProps={buttons:[],maxButtons:2};const aa={ColumnsModal:s,DatagridBody:V,DatagridCheckbox:D,DatagridFooter:L,DatagridHeader:W,DatagridTitle:H,DatagridTools:de,DatagridWrapper:ue,DeleteMultipleModal:Ae,DeleteSingleModal:we,ErrorDialog:Ve,FilteringModal:Be,FormDialog:Ye,GroupButtons:ea}}}]);